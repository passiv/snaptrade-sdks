# Getting Started

### 1) Initialize a client with your clientId and consumerKey

You can get your `clientId` and `consumerKey` by contacting [api@snaptrade.com](mailto:api@snaptrade.com)

::::form

::input{name=SNAPTRADE_CLIENT_ID label="Client ID" placeholder="YOUR_CLIENT_ID" type="password"}

::input{name=SNAPTRADE_CONSUMER_KEY label="Consumer Key" placeholder="YOUR_CONSUMER_KEY" type="password"}

:::code

```python
import json
from snaptrade_client import SnapTrade
import uuid
import os

snaptrade = SnapTrade(
consumer_key=SNAPTRADE_CONSUMER_KEY,
client_id=SNAPTRADE_CLIENT_ID,
)

print("Successfully initiated client")
```

```typescript
import { Snaptrade } from "snaptrade-typescript-sdk";
const snaptrade = new Snaptrade({
  consumerKey: process.env.SNAPTRADE_CONSUMER_KEY,
  clientId: process.env.SNAPTRADE_CLIENT_ID,
});
console.log("Successfully initiated client!");
```

```csharp
Configuration configuration = new Configuration();
string clientId = System.Environment.GetEnvironmentVariable("SNAPTRADE_CLIENT_ID");
string consumerKey = System.Environment.GetEnvironmentVariable("SNAPTRADE_CONSUMER_KEY");
configuration.ApiKey.Add("clientId", clientId);
configuration.ConsumerKey = consumerKey;
apiStatusApi = new APIStatusApi(configuration);
authenticationApi = new AuthenticationApi(configuration);
accountInformationApi = new AccountInformationApi(configuration);
transactionsAndReportingApi = new TransactionsAndReportingApi(configuration);
referenceDataApi = new ReferenceDataApi(configuration);
optionsApi = new OptionsApi(configuration);
Console.WriteLine("Successfully initiated clients!");
```

:::

::button[Initialize SDK Client]

::::

### 2) Check that the client is able to make a request to the API server

Call the API Status endpoint to make sure the API is live and that you can make
the most basic request. You should receive a response indicating the API status,
current server timestamp, and internal API minor version number.

:::form

```python
api_response = snaptrade.api_status.check()
print(json.dumps(api_response.body, indent=2))
```

::button[Check API Status]

:::

### 3) Create a new user on SnapTrade

To create a secure brokerage authorization, we first need to register a test
user. Call the Register user endpoint with a userId which can be any string as
long as it's unique to a user. Upon receiving a 200 response, the user is
registered successfully and you should receive a response with a user id and a
randomly generated user secret. You can think of the user secret like a per-user
API key that provides an additional layer of security for protecting user data.
The user id and user secret need to be passed along to all SnapTrade API
endpoints that involve access to user data.

:::form

::input{name=SNAPTRADE_USER_ID label="SnapTrade User ID" placeholder="YOUR_SNAPTRADE_USER_ID" type="password"}

```python
user_id = SNAPTRADE_USER_ID
register_response = snaptrade.authentication.register_snap_trade_user(
user_id=user_id
)
print(json.dumps(register_response.body, indent=2))

# Note: A user secret is only generated once. It's required to access
# resources for certain endpoints.

user_secret = register_response.body["userSecret"]
```

::button[Create a new user on SnapTrade]

:::

### 4) Get a redirect URI

SnapTrade partners need to generate a redirect URI for a user so they can
securely log in to the SnapTrade Connection portal and connect their accounts.
The redirect URI can be generated by sending a POST request to the Login
endpoint. userId and userSecret (previously generated through calling the
registerUser endpoint) have to be in the query parameters of the POST request.
The response includes a redirectURI to be used to login a user to the connection portal.

:::form

```python
redirect_uri = snaptrade.authentication.login_snap_trade_user(
user_id=user_id, user_secret=user_secret
)

print(json.dumps(redirect_uri.body, indent=2))
```

::button[Get Redirect URI]

:::

### 5) List accounts

After connecting an account to snaptrade, you can see the account IDs by calling `list_user_accounts`.

:::form

```python
accounts = snaptrade.account_information.list_user_accounts(
    user_id=user_id,
    user_secret=user_secret
)
print(json.dumps(accounts.body, indent=2))

for account in accounts.body:
    print("::SAVE[ACCOUNTS]/{}".format(account["id"]))
```

::button[List User Accounts]

:::

### 6) Get account holdings data for a user

In order to retrieve user holdings for a specific account, you can call the
Holdings endpoint by passing the clientId, timestamp, userId and list of account
numbers (accounts) to filter the holdings. In the response, you should get an
array of objects containing each account holdings data.

:::form{skippable}

::enum{name=ACCOUNT_ID label="Account ID" placeholder="ACCOUNT ID" savedData=ACCOUNTS description="The ID of the account to pull holdings for"}

```python
holdings = snaptrade.account_information.get_user_holdings(
    account_id=ACCOUNT_ID,
    user_id=user_id,
    user_secret=user_secret
)
print(json.dumps(holdings.body, indent=2))
```

::button[Get Account Holdings]

:::

### 7) Deleting a user

Disabling all brokerage authorizations and permanently deleting all data
associated with the user

:::form

```python
deleted_response = snaptrade.authentication.delete_snap_trade_user(
user_id=user_id
)
print(json.dumps(deleted_response.body, indent=2))
```

::button[Delete User]

:::
